# 智能售卖柜系统

智能售卖柜的智能控制系统和后台管理软件系统，支持商品识别、自动结算、远程管理等功能。

## 系统架构

系统分为两个主要部分：

1. **智能控制系统**：负责监控冰柜门的开关状态，记录交易过程，控制商品的出货，并与用户进行交互。
2. **后台管理系统**：提供商品管理、订单处理、库存管理、故障报告、数据统计等功能。

## 功能特点

### 智能控制系统

- **门禁控制**：支持微信/支付宝扫码开门，人脸识别开门
- **商品识别**：基于计算机视觉的商品自动识别
- **异常检测**：检测遮挡摄像头、放置异物、偷窃等异常行为
- **自动结算**：关门后自动完成商品识别和结算
- **多种支付**：支持微信、支付宝、银联等多种支付方式

### 后台管理系统

- **实时监控**：设备状态监控、销售数据追踪、环境参数监测
- **库存管理**：智能补货预警、货道远程配置、故障诊断与维护
- **远程控制**：动态定价、广告投放管理
- **用户管理**：会员体系与积分、促销活动设置、支付方式集成
- **数据分析**：自动化报表与财务管理、销售趋势分析

## 系统要求

- Python 3.8+
- OpenCV 4.5+
- Flask 2.0+
- 其他依赖见 requirements.txt

## 安装与运行

### Windows系统

1. 安装Python 3.8或更高版本
2. 克隆或下载本项目
3. 安装依赖：`pip install -r requirements.txt`
4. 运行系统：双击 `run.bat` 或在命令行中执行 `run.bat`

### Linux系统

1. 安装Python 3.8或更高版本
2. 克隆或下载本项目
3. 安装依赖：`pip3 install -r requirements.txt`
4. 运行系统：`bash run.sh` 或 `./run.sh`（需要先执行 `chmod +x run.sh`）

## 项目结构

```
smart_vending_fridge_v2/
├── config/                 # 配置文件
│   └── config.json         # 主配置文件
├── data/                   # 数据文件
│   ├── ads/                # 广告内容
│   ├── products.json       # 商品数据
│   └── payment_records.json # 支付记录
├── docs/                   # 文档
├── logs/                   # 日志文件
├── models/                 # 模型文件
├── src/                    # 源代码
│   ├── advertising/        # 广告系统
│   ├── cloud/              # 云端通信
│   ├── control_system/     # 控制系统
│   ├── hardware/           # 硬件控制
│   ├── payment/            # 支付系统
│   ├── replenishment/      # 补货系统
│   ├── utils/              # 工具函数
│   ├── vision/             # 视觉识别
│   └── main.py             # 主程序入口
├── backend/                # 后台管理系统
│   ├── static/             # 静态资源
│   ├── templates/          # 模板文件
│   └── app.py              # 后台应用入口
├── tests/                  # 测试代码
├── README.md               # 项目说明
├── requirements.txt        # 依赖列表
├── run.bat                 # Windows启动脚本
└── run.sh                  # Linux启动脚本
```

## 配置说明

系统配置存储在 `config/config.json` 文件中，包括设备信息、硬件配置、视觉识别参数、支付设置等。

## 开发者指南

详细的开发者文档请参考 `docs/` 目录下的相关文档。

## 许可证

本项目采用 MIT 许可证。